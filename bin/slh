#!/usr/bin/env php
<?php

use Ochorocho\SantasLittleHelper\Application\HelperApplication;
use Ochorocho\SantasLittleHelper\Commands\Composer;
use Ochorocho\SantasLittleHelper\Commands\CoreComposer;
use Ochorocho\SantasLittleHelper\Commands\Php;
use Ochorocho\SantasLittleHelper\Commands\Webserver;

require dirname(__DIR__) . '/vendor/autoload.php';

$santa = <<<EOF
        / \__
      (    @\__ 
      /         O
    /   (_____/
  /_____ /   U

  Santa's Little Helper
EOF;

// @todo: Set version based on the CI tag in use?
$application = new HelperApplication($santa, '0.0.1');
$application->setDefaultCommand('list');

// Add commands to the application
$application->add(new Composer());
$application->add(new Php());
$application->add(new Webserver());
$application->add(new CoreComposer());

// @todo:
// - Add create project via wizard - like done in the TDK
// - Handy dev commands: Most common cheatsheet commands for git
//   -- "git after pull" - see changed files and act accordingly
//   -- "Hooks... pre hooks, skipped if needed" ?
// - Add ini file so phar could write outside?! - Extract the php binary and run in case no local php found?
// - Run project with frankenphp and sqlite
// - **DONE** Run any php script
// - use settings in composer.json "vendor-dir" and "web-dir" + Custom settings for slh with validation
// 	    "extra": {
//		    "typo3/cms": {
//			    "web-dir": "web"
//		    }
//	    },
// Focus on:
// - TDK features: Create dev environment (composer, non-composer)
// - Project Template Setup - Extension renaming and such
// Experiment:
// - Wouldn't it be fun seeing runTests as standalone command using php
// - PHP TUI: Might make sensor to easily pick a gerrit patch
// - b13/make ... Need to get rid of a few TYPO3 dependencies, no one wants to package the entire core
$application->run();
